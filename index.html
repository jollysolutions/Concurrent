<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Concurrent by moritz-wundke</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/moritz-wundke/Concurrent">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Concurrent</h1>
            <h2>Distributed task system based on ZeroMQ and a trac [by Edgewall] like component architecture</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/moritz-wundke/Concurrent/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/moritz-wundke/Concurrent/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>
<a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h1>

<p>Concurrent aims to be a different type of task distribution system compared to what MPI like system do. It adds a simple but powerful application abstraction layer to distribute the logic of an entire application onto a swarm of clusters holding similarities with volunteer computing systems.</p>

<p>Traditional task distributed systems will just perform simple tasks onto the distributed system and wait for results. Concurrent goes one step further by letting the tasks and the application decide what to do. The programming paradigm is then totally async without any waits for results and based on notifications once a computation has been performed.</p>

<h1>
<a name="api" class="anchor" href="#api"><span class="octicon octicon-link"></span></a>API</h1>

<p>Concurrent comes with a simple and extendable API, the component system makes it easy to create new schedule strategies and managers. Nearly all functionality is plugable to tweak and adapt the framework for your needs.</p>

<p>For more information about the inner grains refer to the <a href="/Concurrent/API/">API documentation</a>.</p>

<h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<div class="highlight highlight-python"><pre><span class="kn">from</span> <span class="nn">concurrent.framework.nodes.applicationnode</span> <span class="kn">import</span> <span class="n">ApplicationNode</span>
<span class="kn">from</span> <span class="nn">concurrent.core.application.api</span> <span class="kn">import</span> <span class="n">IApp</span>
<span class="kn">from</span> <span class="nn">concurrent.core.components.component</span> <span class="kn">import</span> <span class="n">implements</span>
<span class="kn">from</span> <span class="nn">concurrent.core.async.task</span> <span class="kn">import</span> <span class="n">Task</span>

<span class="k">class</span> <span class="nc">SimpleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">client_id</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Just create a task specifying only a client_id, this will tell Concurrent</span>
<span class="sd">        to only process the task and send the results back</span>
<span class="sd">        """</span>
        <span class="n">Task</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">client_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Method gets called on an arbitrary slave to perform the computation</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s">"Hello World"</span>

    <span class="k">def</span> <span class="nf">finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Once the task is finished. Called on the MasterNode within the main thread once</span>
<span class="sd">        the node has recovered the result data.</span>
<span class="sd">        """</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Hey I'm done!"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SimpleConcurrentApp</span><span class="p">(</span><span class="n">ApplicationNode</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Just a simple application showing how to send tasks to be processed using Concurrent</span>
<span class="sd">    """</span>
    <span class="n">implements</span><span class="p">(</span><span class="n">IApp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_task_system</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Called from the base class when we are connected to a MasterNode and we are </span>
<span class="sd">        able to send computation tasks over</span>
<span class="sd">        """</span>
        <span class="c"># We return none for the simple example, to check more advanced samples please check the</span>
        <span class="c"># samples source code</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">start_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Called when the app is not using a ITaskSystem and will instead just add tasks and</span>
<span class="sd">        will take care of the task flow itself</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Starting computation"</span><span class="p">)</span>

        <span class="c"># Create a task and send it to the system</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_task</span><span class="p">(</span> <span class="n">SimpleTask</span><span class="p">(</span><span class="s">"my_task"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_id_str</span><span class="p">)</span> <span class="p">)</span>

    <span class="k">def</span> <span class="nf">task_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Called when a task has been done</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

        <span class="c"># shutdown</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_main_loop</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">push_task_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        We just add a Task to the computation framework</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Task send to computation framework"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push_task_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        We failed to add a Task to the computation framework</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Failed to send task send to computation framework"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push_tasks_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        We just add a set of Tasks to the computation framework</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Tasks send to computation framework"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">push_tasks_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        We failed to add a set of Tasks to the computation framework</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">"Failed to send tasks send to computation framework"</span><span class="p">)</span>
</pre></div>

<h1>
<a name="install" class="anchor" href="#install"><span class="octicon octicon-link"></span></a>Install</h1>

<p>The easiest way to install concurrent is to download it's source package and just install it using pythons disctools:</p>

<pre><code>python setup.py build_ext
python setup.py install
</code></pre>

<p>Make sure to have the python development headers installed, you also require a valid C compiler.</p>

<h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>MIT</p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/moritz-wundke">moritz-wundke</a> can be found on <a href="https://github.com/moritz-wundke/Concurrent">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
